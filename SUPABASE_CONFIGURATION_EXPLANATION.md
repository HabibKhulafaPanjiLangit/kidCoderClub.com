# SUPABASE CONFIGURATION BREAKDOWN
## KidCoderClub.id Frontend

**Tanggal:** Januari 22, 2026  
**Topik:** Penjelasan konfigurasi Supabase dalam project

---

## ğŸ” PENCARIAN: `sb_publishable_H52_WkmaXVXVVuRxQ7XbeQ_ax-AJ5E7`

### Status: âŒ Tidak Ditemukan di Project Ini

String `sb_publishable_H52_WkmaXVXVVuRxQ7XbeQ_ax-AJ5E7` **tidak ada** di dalam project KidCoderClub.id saat ini.

**Kemungkinan:**
1. âœ… **String dari project lain** - Dari backend project berbeda
2. âœ… **Konfigurasi lama** - Sudah diganti dengan key baru
3. âœ… **Key berbeda format** - Format yang ditunjukkan berbeda dengan key saat ini

---

## ğŸ“ KONFIGURASI SUPABASE YANG ADA DI PROJECT

### 1. FILE: `.env`
**Lokasi:** `d:\Development\Web\kidCoderClub.com\.env`

```dotenv
VITE_SUPABASE_PROJECT_ID="uqdwajymsdgrtdefuora"
VITE_SUPABASE_PUBLISHABLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVxZHdhanltc2RncnRkZWZ1b3JhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3OTgwMzgsImV4cCI6MjA4MzM3NDAzOH0.IDtIPHNnEqhB-jWqaV_KFvxEg9y5i6CVNVR0m_JkHgU"
VITE_SUPABASE_URL="https://uqdwajymsdgrtdefuora.supabase.co"
```

#### Penjelasan:

| Variable | Nilai | Fungsi |
|----------|-------|--------|
| **VITE_SUPABASE_PROJECT_ID** | `uqdwajymsdgrtdefuora` | ID unik project Supabase |
| **VITE_SUPABASE_PUBLISHABLE_KEY** | `eyJhbGc...` (JWT Token) | Public key untuk client-side authentication |
| **VITE_SUPABASE_URL** | `https://uqdwajymsdgrtdefuora.supabase.co` | URL endpoint Supabase |

---

### 2. FILE: Client Integration
**Lokasi:** `src/integrations/supabase/client.ts`

```typescript
// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

const SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL;
const SUPABASE_PUBLISHABLE_KEY = import.meta.env.VITE_SUPABASE_PUBLISHABLE_KEY;

// Import the supabase client like this:
// import { supabase } from "@/integrations/supabase/client";

// Gunakan sessionStorage untuk development (session terpisah per tab)
// Gunakan localStorage untuk production (session dibagikan antar tab)
const isDevelopment = import.meta.env.DEV;

export const supabase = createClient<Database>(
  SUPABASE_URL, 
  SUPABASE_PUBLISHABLE_KEY, 
  {
    auth: {
      storage: isDevelopment ? sessionStorage : localStorage,
      persistSession: true,
      autoRefreshToken: true,
    }
  }
);
```

---

## ğŸ” TIPE-TIPE SUPABASE KEYS

### 1. Publishable Key (Anon Key)
```
Format: JWT Token (eyJhbGc...)
Keamanan: PUBLIC - bisa share di frontend
Contoh: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**Digunakan untuk:**
- âœ… Client-side queries
- âœ… Browser API calls
- âœ… Frontend authentication
- âœ… Real-time subscriptions

**Konfigurasi di `.env`:**
```
VITE_SUPABASE_PUBLISHABLE_KEY="eyJhbGc..."
```

---

### 2. Private/Secret Key
```
Format: sb_secret_xxxxxxxxxxxxx
Keamanan: PRIVATE - JANGAN share
Contoh: sb_secret_H52_WkmaXVXVVuRxQ7XbeQ...
```

**Digunakan untuk:**
- âŒ JANGAN di frontend (rahasia!)
- âœ… Backend server saja
- âœ… Admin operations
- âœ… Webhook validation

**Mana menyimpannya:**
```
.env.local (TIDAK di-commit)
Backend server environment
```

---

### 3. String `sb_publishable_...` yang Anda Tanyakan

```
sb_publishable_H52_WkmaXVXVVuRxQ7XbeQ_ax-AJ5E7
```

**Ini adalah Private/Secret Key** bukan Publishable Key!
- Format `sb_publishable_` biasanya adalah **SECRET KEY**
- âš ï¸ **JANGAN gunakan di frontend**
- âš ï¸ **JANGAN di-commit ke git**
- âš ï¸ Jika exposed, regenerate segera!

---

## ğŸ“ BREAKDOWN PUBLISHABLE KEY YANG ADA

### JWT Token Decode
```
VITE_SUPABASE_PUBLISHABLE_KEY = 
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVxZHdhanltc2RncnRkZWZ1b3JhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3OTgwMzgsImV4cCI6MjA4MzM3NDAzOH0.IDtIPHNnEqhB-jWqaV_KFvxEg9y5i6CVNVR0m_JkHgU"
```

### Header (Bagian 1)
```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

### Payload (Bagian 2)
```json
{
  "iss": "supabase",
  "ref": "uqdwajymsdgrtdefuora",      // Project ID
  "role": "anon",                      // Anonymous role
  "iat": 1767798038,                   // Issued at (waktu buat)
  "exp": 2083374038                    // Expiration (waktu kadaluarsa)
}
```

### Signature (Bagian 3)
```
IDtIPHNnEqhB-jWqaV_KFvxEg9y5i6CVNVR0m_JkHgU
```
- HMAC-SHA256 signature untuk verifikasi

---

## ğŸ—‚ï¸ SUPABASE CONFIGURATION FILES LOCATIONS

```
kidCoderClub.com/
â”‚
â”œâ”€â”€ .env                              â† ENVIRONMENT VARIABLES
â”‚   â”œâ”€â”€ VITE_SUPABASE_PROJECT_ID
â”‚   â”œâ”€â”€ VITE_SUPABASE_PUBLISHABLE_KEY
â”‚   â””â”€â”€ VITE_SUPABASE_URL
â”‚
â”œâ”€â”€ .env.local                        â† LOCAL OVERRIDES (git ignored)
â”‚   â””â”€â”€ Private keys & secrets
â”‚
â”œâ”€â”€ .env.example                      â† TEMPLATE (commit ini)
â”‚   â””â”€â”€ (tanpa nilai sebenarnya)
â”‚
â”œâ”€â”€ src/integrations/supabase/
â”‚   â”œâ”€â”€ client.ts                     â† Supabase client instance
â”‚   â”œâ”€â”€ types.ts                      â† Generated TypeScript types
â”‚   â””â”€â”€ database.types.ts             â† Database schema types
â”‚
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ config.toml                   â† Supabase project config
â”‚   â”‚   â””â”€â”€ project_id = "uqdwajymsdgrtdefuora"
â”‚   â”‚
â”‚   â””â”€â”€ migrations/                   â† Database migrations
â”‚       â””â”€â”€ 18 migration files
â”‚
â””â”€â”€ .gitignore
    â””â”€â”€ .env.local (tidak di-track)
```

---

## ğŸ”„ SUPABASE CONNECTION FLOW

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ENVIRONMENT VARIABLES (.env)                     â”‚
â”‚    VITE_SUPABASE_URL                                â”‚
â”‚    VITE_SUPABASE_PUBLISHABLE_KEY                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. BUILD TIME (Vite)                                â”‚
â”‚    import.meta.env.VITE_SUPABASE_URL                â”‚
â”‚    import.meta.env.VITE_SUPABASE_PUBLISHABLE_KEY    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. RUNTIME (Browser)                                â”‚
â”‚    src/integrations/supabase/client.ts              â”‚
â”‚    export const supabase = createClient(...)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. COMPONENT USAGE                                  â”‚
â”‚    import { supabase } from "@/integrations/..."    â”‚
â”‚    supabase.from('table').select(...)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ KONFIGURASI DETAIL

### Supabase Client Settings

```typescript
{
  auth: {
    // Menyimpan session di browser
    storage: isDevelopment ? sessionStorage : localStorage,
    
    // Session tetap ada setelah refresh
    persistSession: true,
    
    // Otomatis refresh token sebelum expiry
    autoRefreshToken: true,
  }
}
```

**Development vs Production:**
- **Development** â†’ `sessionStorage` (tab terisolasi)
- **Production** â†’ `localStorage` (session dibagi antar tab)

---

## ğŸ” SECURITY BEST PRACTICES

### âœ… BOLEH di Frontend
```
âœ… Publishable Key (Public/Anon key)
âœ… Project URL
âœ… Project ID
```

### âŒ JANGAN di Frontend
```
âŒ Secret Key (sb_secret_...)
âŒ Private service role key
âŒ API key dengan permission admin
âŒ Database password
```

### ğŸ“ File Organization

**Git Repository:**
```
âœ… Commit:     .env.example (template saja)
âœ… Commit:     .env (dev key yang public)
âŒ Git Ignore: .env.local (private keys)
âŒ Git Ignore: .env.production (prod keys)
```

---

## ğŸš€ CARA MENGAKSES SUPABASE

### 1. Via Frontend SDK
```typescript
import { supabase } from "@/integrations/supabase/client";

// Read
const { data } = await supabase
  .from('classes')
  .select('*');

// Create
await supabase
  .from('users')
  .insert({ email, password });

// Update
await supabase
  .from('profiles')
  .update({ name })
  .eq('id', userId);
```

### 2. Via REST API
```javascript
// Direct HTTP call (jika perlu)
const response = await fetch(
  'https://uqdwajymsdgrtdefuora.supabase.co/rest/v1/classes',
  {
    headers: {
      'Authorization': `Bearer ${SUPABASE_PUBLISHABLE_KEY}`,
      'Content-Type': 'application/json'
    }
  }
);
```

### 3. Via Supabase Dashboard
```
https://app.supabase.com
Project ID: uqdwajymsdgrtdefuora
```

---

## ğŸ“Š PROJECT CONFIGURATION SUMMARY

| Setting | Value | Lokasi |
|---------|-------|--------|
| **Project ID** | `uqdwajymsdgrtdefuora` | `.env` |
| **Project URL** | `https://uqdwajymsdgrtdefuora.supabase.co` | `.env` |
| **Auth Type** | JWT (Supabase Auth) | client.ts |
| **Session Storage** | sessionStorage (dev) / localStorage (prod) | client.ts |
| **Database** | PostgreSQL | Supabase |
| **Migrations** | 18 files | `supabase/migrations/` |
| **Env Variables** | VITE_* prefix | Vite/Viet convention |

---

## â“ KESIMPULAN

### Tentang String `sb_publishable_H52_WkmaXVXVVuRxQ7XbeQ_ax-AJ5E7`:

1. **Tidak ada di project ini** - Project ini punya key yang berbeda
2. **Mungkin adalah Secret Key** - Meskipun nama prefix `sb_publishable`, tapi ini terlihat seperti secret
3. **Jangan pernah share** - Secret key harus rahasia!
4. **Kalau sudah expose** - Segera regenerate di Supabase dashboard

### Key Project Ini:

âœ… **Project ID:** `uqdwajymsdgrtdefuora`  
âœ… **Publishable Key:** JWT token di `.env`  
âœ… **URL:** `https://uqdwajymsdgrtdefuora.supabase.co`  
âœ… **Client Setup:** `src/integrations/supabase/client.ts`

---

Generated: Januari 22, 2026
